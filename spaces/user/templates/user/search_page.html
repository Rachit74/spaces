{% extends 'user/base.html' %}

{% block title %} User Search {% endblock %}

{% block content %}
<h1>Search for Users</h1>
<form method="get" action="">
    <input type="text" name="query" placeholder="Search users..." required>
    <button type="submit">Search</button>
</form>

{% if users %}
    <h2>Search Results:</h2>
    <ul>
        {% for user in users %}
            {% if user.profile in current_user.profile.follows.all %}
            <li>{{ user.username }} - {{ user.email }} Added | <a href="">Remove</a></li>
            {% else %}
            <li>{{ user.username }} - {{ user.email }} <a href="">Add</a></li>
            {% endif %}
        {% endfor %}
    </ul>
{% elif query %}
    <p>No users found for "{{ query }}".</p>
{% endif %}
{% endblock %}
